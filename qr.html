<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="RDVessentiel.be">
        <meta name="author" content="Guillaume Derval">
        <title>RDVessentiel.be</title>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css">
        <script type="text/javascript" src="https://unpkg.com/qr-code-styling/lib/qr-code-styling.js"></script>
    </head>
    <body>
        <main>
            <noscript>Veuillez activer javascript pour générer le QR code.</noscript>
            <div class="py-5 text-center">
                <h2>Prendre rendez-vous à notre magasin, ici, sur le pas de la porte</h2>
            </div>
            <h4>1. Scannez le QR code ou allez sur l'adresse indiquée en dessous.</h4>
            <h4>2. Attendez qu'une personne arrivée avant vous sorte du magasin, ou que l'on vous indique que vous pouvez prendre rendez-vous</h4>
            <h4>3. Appuyez sur le bouton</h4>
            <h4>4. Et voilà, le rendez-vous est pris!</h4>

            <div class="py-5 text-center">
                <div id="canvas"></div>
                <h4><span id="url"></span></h4>
            </div>


            <h4>Pas de smartphone ou pas à l'aise? Téléphonez au magasin au numéro suivant: </h4>

            <footer class="my-5 pt-5 text-muted text-center text-small">Powered by rdvessentiel.be</footer>

            <script type="text/javascript">
                let url = "rdvessentiel.be/r.html?n=Mon+Petit+Commerce"
                const qrCode = new QRCodeStyling({
                    width: 300,
                    height: 300,
                    data: url,
                    dotsOptions: {
                        color: "#000000",
                        type: "square"
                    },
                    backgroundOptions: {
                        color: "#FFFFFF"
                    }
                });
                qrCode.append(document.getElementById("canvas"));
                document.getElementById("url").textContent = url;
                window.print();
            </script>
        </main>
    </body>
</html>